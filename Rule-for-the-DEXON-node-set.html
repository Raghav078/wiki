<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Rule for the DEXON node set - </title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li><a href="Getting-Started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li><a href="Overview.html"><strong aria-hidden="true">1.1.</strong> Overview</a></li><li><a href="how-to-use-this-documentation.html"><strong aria-hidden="true">1.2.</strong> How to use this documentation</a></li></ol></li><li><a href="Network-Access-Guide.html"><strong aria-hidden="true">2.</strong> Network Access Guide</a></li><li><ol class="section"><li><a href="Create-Wallet.html"><strong aria-hidden="true">2.1.</strong> Create Wallet</a></li></ol></li><li><a href="DApp-Dev-Guide.html"><strong aria-hidden="true">3.</strong> DApp Development Guide</a></li><li><ol class="section"><li><a href="Dapp-Development.html"><strong aria-hidden="true">3.1.</strong> DApp Development</a></li><li><a href="Access-to-Testnet.html"><strong aria-hidden="true">3.2.</strong> Access to Testnet</a></li></ol></li><li><a href="System-Spec.html"><strong aria-hidden="true">4.</strong> System Spec</a></li><li><ol class="section"><li><a href="accounts.html"><strong aria-hidden="true">4.1.</strong> Accounts</a></li><li><a href="transaction.html"><strong aria-hidden="true">4.2.</strong> Transaction</a></li><li><a href="block.html"><strong aria-hidden="true">4.3.</strong> Block</a></li></ol></li><li><a href="API.html"><strong aria-hidden="true">5.</strong> API</a></li><li><ol class="section"><li><a href="rpc-api.html"><strong aria-hidden="true">5.1.</strong> JSON-RPC API</a></li><li><a href="websocket-api.html"><strong aria-hidden="true">5.2.</strong> WebSocket API</a></li><li><a href="data-api.html"><strong aria-hidden="true">5.3.</strong> DATA API</a></li></ol></li><li><a href="Node-OP-Guide.html"><strong aria-hidden="true">6.</strong> Node Operator Guide</a></li><li><ol class="section"><li><a href="Running--a-BP-node-for-Testnet.html"><strong aria-hidden="true">6.1.</strong> Running a testnet BP node</a></li><li><a href="DEXON-BP-Node-Operation-Guide.html"><strong aria-hidden="true">6.2.</strong> Running a BP node</a></li><li><a href="DEXON-RPC-Node-Operation-Guide.html"><strong aria-hidden="true">6.3.</strong> Running a RPC node</a></li><li><a href="Rule-for-the-DEXON-node-set.html" class="active"><strong aria-hidden="true">6.4.</strong> Rule for the DEXON node set</a></li></ol></li><li><a href="Fullnode-Dev-Guide.html"><strong aria-hidden="true">7.</strong> Fullnode Development Guide</a></li><li><ol class="section"><li><a href="Fullnode-Development.html"><strong aria-hidden="true">7.1.</strong> Contribute to DEXON Fullnode</a></li><li><a href="List-of-Repositories.html"><strong aria-hidden="true">7.2.</strong> List of Repositories</a></li></ol></li><li><a href="Tech-Docs.html"><strong aria-hidden="true">8.</strong> Technical Documentations</a></li><li><ol class="section"><li><a href="Consensus-Algo-v2-Spec.html"><strong aria-hidden="true">8.1.</strong> Consensus Algorithm V2 Specification</a></li><li><a href="Selection-of-the-notary-set-size.html"><strong aria-hidden="true">8.2.</strong> Selection of notary set size</a></li><li><a href="DKG-TSIG-Protocol.html"><strong aria-hidden="true">8.3.</strong> DKG-Tsig Protocol</a></li><li><a href="On-Chain-Random-Oracle.html"><strong aria-hidden="true">8.4.</strong> On-chain Random Oracle</a></li><li><a href="DEXON-Cryptoeconomics.html"><strong aria-hidden="true">8.5.</strong> DEXON Cryptoeconomics</a></li><li><a href="Governance-Contract-Interface.html"><strong aria-hidden="true">8.6.</strong> Governance Contract Interface</a></li><li><a href="Configuration-Change.html"><strong aria-hidden="true">8.7.</strong> Configuration Change</a></li></ol></li><li><a href="Resource.html"><strong aria-hidden="true">9.</strong> Resource</a></li><li><ol class="section"><li><a href="Blockchain-Comparison.html"><strong aria-hidden="true">9.1.</strong> Blockchain Comparision</a></li><li><a href="DEXON-PAPERS.html"><strong aria-hidden="true">9.2.</strong> DEXON papers</a></li></ol></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title"></h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#rule-for-the-dexon-node-set" id="rule-for-the-dexon-node-set"><h1>Rule for the DEXON node set</h1></a>
<p>We introduce the rule for node set and give a brief explanation to the functions in DEXON <a href="https://testnet.dexscan.org/address/0x63751838D6485578B23e8b051d40861eCC416794">governance contract</a>.</p>
<a class="header" href="#active-condition-permission-to-be-in-notary-set" id="active-condition-permission-to-be-in-notary-set"><h2>Active condition (permission to be in notary set)</h2></a>
<p>You must deposit enough stake in the governance contract to get the qualification to be selected in the notary set.
Sometimes nodes who violate the rule for notary set will be fined some coin. This leads nodes unqualified to be selected in the notary set. Nodes can be re-qualify if paying the fined such that</p>
<pre><code>stake - fine &gt;= 1M DXN
</code></pre>
<a class="header" href="#reward" id="reward"><h2>Reward</h2></a>
<p>The reward of each block is calculated as</p>
<pre><code>block_Reward = mining_Velocity * total_Staked * round_Interval / (365*24*60*60)
</code></pre>
<p>For example, 100 nodes with each staked 1M DXN and mining velocity is 18.75%, the reward of each block is</p>
<pre><code>  100 * 1M * 18.75% * 1 / (365*24*60*60) = 0.5945586 DXN
</code></pre>
<p>You can find the parameter information via <a href="https://testnet.dexscan.app/governance">governance statistic</a> page.</p>
<p>From the description above, the expected reward for each node in 1 day is</p>
<pre><code> 100 * 1M * 18.75% * 1 / 365 /100 = 513.7 DXN
</code></pre>
<a class="header" href="#penalty" id="penalty"><h2>Penalty</h2></a>
<p>Nodes shall not engage in any of the following conducts:</p>
<ol>
<li>Forking or trying to fork blocks at the same height by proposing multiple blocks</li>
<li>Forking or trying to fork votes by submitting multiple votes in the same iteration in the Byzantine Agreement (BA)</li>
<li>Engaging in malicious behaviors in Distributed Key Generation, including without limitation sending wrong secret shares to other nodes, and such behaviors have been complained by other nodes</li>
<li>Producing wrong Share-Sig by sending wrong share signature to common reference string (CRS) or in commit-vote</li>
<li>Failing to finish distributed key generation (DKG)</li>
<li>Failing to propose any blocks during a whole epoch</li>
</ol>
<p>For 1. to 4., the entire stake will be confiscated immediately by DEXON Foundation. For 5., a fine of the <code>1 dei</code> will be imposed and no blocks can be produced until such fine is paid under the governance contract.  For 6., a fine of the <code>Block Reward*86400/total Node</code> will be imposed and no blocks can be produced until such fine is paid under the governance contract.</p>
<a class="header" href="#contract-write-function" id="contract-write-function"><h2>Contract Write function</h2></a>
<p>In this section, we briefly introduce some functions that DEXON governance provides to write in.</p>
<a class="header" href="#register" id="register"><h3>Register</h3></a>
<ol>
<li>In DekuSan wallet, switch to the <code>owner's account</code>.</li>
<li>Navigate to the <code>Write</code> tab of the governance contract and select <code>register</code> from the dropdown menu.</li>
<li>Fill in the information like below; currently, you need 1M DXN to run a BP node.</li>
</ol>
<ul>
<li>Node Public Key (you must hold the corresponding secret key)</li>
<li>Name of the node</li>
<li>Contact email</li>
<li>Node Location</li>
<li>Website URL</li>
</ul>
<ol start="4">
<li>Click <code>Send</code> and <code>confirm</code> in DekuSan wallet.</li>
</ol>
<a class="header" href="#stakeunstake" id="stakeunstake"><h3>Stake/Unstake</h3></a>
<p>After registering, each node owner can continue depositing more stake into DEXON governance contract.  This is super easy to achieve in DEXON governance contract.</p>
<ol>
<li>Switch to the <code>owner account</code> in DekuSan wallet.</li>
<li>Navigate to the <code>Write</code> tab and select <code>stake</code> from the dropdown menu.</li>
<li>Fill the amount of stake in the contract.</li>
<li>Click <code>Send</code> and <code>confirm</code> in DekuSan wallet.</li>
</ol>
<p>On the other hand, each node owner can also unstake from DEXON governance contract. This is almost identical to operating stake function.</p>
<ol>
<li>Switch to the <code>owner account</code> in DekuSan wallet.</li>
<li>Navigate to the <code>Write</code> tab and select <code>unstake</code> from the dropdown menu.</li>
<li>Fill the amount of unstake in the contract.</li>
<li>Click <code>Send</code> and <code>confirm</code> in DekuSan wallet.</li>
</ol>
<p>To ensure the stability of DEXON blockchain, the duration to withdraw the unstake coin is set 24 epochs, which corresponds around 1 day in real-world time. In the duration, the node can still propose block and earn the reward, but the node sill can be fined if violating any rule.
Note that, each node can only unstake once until the unstake is withdrawn.</p>
<a class="header" href="#withdraw" id="withdraw"><h3>Withdraw</h3></a>
<p>After unstaking and wait for 24 epochs, the node can withdraw the stake.</p>
<ol>
<li>Switch to the <code>owner account</code> in DekuSan wallet.</li>
<li>Navigate to the <code>Write</code> tab and select <code>withdraw</code> from the dropdown menu.</li>
<li>Click <code>Send</code> and <code>confirm</code> in DekuSan wallet.</li>
</ol>
<a class="header" href="#transfer-node-owner" id="transfer-node-owner"><h3>Transfer Node Owner</h3></a>
<p>A node owner can also transfer the owner right to others.</p>
<ol>
<li>Switch to the <code>owner account</code> in DekuSan wallet.</li>
<li>Navigate to the <code>Write</code> tab and select <code>register</code> from the dropdown menu.</li>
<li>Fill the <code>address</code> of the new owner.</li>
<li>Click <code>Send</code> and <code>confirm</code> in DekuSan wallet.</li>
</ol>
<blockquote>
<p>WARNING: This is an IRREDUCIBLE operation. No one can recover if you transfer to a wrong address. Please double-check the address is correct.</p>
</blockquote>
<a class="header" href="#contract-read-function" id="contract-read-function"><h2>Contract Read function</h2></a>
<!-- Most of the information can be found in DEXONSCAN website. To prevent in case, we introduce a method to read the status of DEXON blockchain. -->
<p>The latest system parameters can be found in the governance contract. We introduce some fruquently used functions.</p>
<a class="header" href="#nodes" id="nodes"><h3>nodes</h3></a>
<p><code>nodes</code> returns the status of a node, where the input is the order of the node. The order of a node can be query by the function <code>nodesOffsetByAddress</code>.</p>
<a class="header" href="#nodelength" id="nodelength"><h3>nodeLength</h3></a>
<p><code>nodeLength</code> returns the current size of the node set.</p>
<a class="header" href="#nodesoffsetbyaddress" id="nodesoffsetbyaddress"><h3>nodesOffsetByAddress</h3></a>
<p><code>nodesOffsetByAddress</code> returns the order of a node, where the input is the address of the node.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="DEXON-RPC-Node-Operation-Guide.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="Fullnode-Dev-Guide.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="DEXON-RPC-Node-Operation-Guide.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="Fullnode-Dev-Guide.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
